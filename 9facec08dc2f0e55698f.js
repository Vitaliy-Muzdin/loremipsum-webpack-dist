import"./assets/scss/main.scss";import"./assets/fonts/lato/lato.scss";import"./assets/fonts/raleway/raleway.scss";import html from"./index.html";var $document=$(document),$jQuery=jQuery(document);window.addEventListener("scroll",(function(){var e=document.getElementById("nav");window.innerWidth>992&&(window.pageYOffset>100?e.classList.add("active"):e.classList.remove("active"))}));var burger=document.getElementById("burger"),navMenu=document.getElementById("navMenu"),navDarkBg=document.getElementById("navDarkBg"),navClose=document.getElementById("navClose");burger.onclick=function(){navMenu.classList.add("active"),navDarkBg.classList.add("active")},navClose.onclick=function(){navMenu.classList.remove("active"),navDarkBg.classList.remove("active")},navDarkBg.onclick=function(){navMenu.classList.remove("active"),navDarkBg.classList.remove("active")};var urlProtocol=window.location.protocol,urlHost=window.location.host,urlIndex=urlProtocol+"//"+urlHost+"/index.html",urlPlaceAnOrder=urlProtocol+"//"+urlHost+"/place-an-order.html",desktopAddressFile=window.location.pathname,desktopAddress=desktopAddressFile.substring(0,desktopAddressFile.lastIndexOf("/")),desktopAddressIndex=desktopAddressFile.substring(0,desktopAddressFile.lastIndexOf("/"))+"/index.html",desktopAddressPlaceAnOrder=desktopAddressFile.substring(0,desktopAddressFile.lastIndexOf("/"))+"/place-an-order.html";if(urlIndex.indexOf(window.location.pathname)>=0||urlPlaceAnOrder.indexOf(window.location.pathname)>=0||desktopAddressIndex.indexOf(window.location.pathname)>=0||desktopAddressPlaceAnOrder.indexOf(window.location.pathname)>=0){var rangeWrap=document.getElementById("rangeWrap"),range=document.getElementById("range"),output=document.getElementById("output"),onRangeInput=function(){var e=range.value;output.innerText=e+"%";var n=range.min,t=range.max,a="".concat(100-(t-e)/(t-n)*100);rangeWrap.style.setProperty("--valuePercent",a+"%")};onRangeInput(),range.addEventListener("input",onRangeInput)}for(var linkPage=document.querySelectorAll(".nav__link"),currentPage=window.location.href,i=0;linkPage.length>i;i++)currentPage==linkPage[i]&&(linkPage[i].className="active");var currentYear=document.getElementById("currentYear");currentYear.innerHTML=(new Date).getFullYear(),$("#uploadedFile").change((function(){""!=$(this).val()?$(this).prev().text("Выбрано файлов: "+$(this)[0].files.length):$(this).prev().text("Прикрепить файл")})),$(".select").each((function(){var e=$(this),n=e.find("option"),t=n.length;n.filter(":selected"),e.hide(),e.wrap("<div class='select'></div>"),$("<div>",{class:"select__new mainForm_required",text:e.children("option:disabled").text()}).insertAfter(e);var a=e.next(".select__new");$("<div>",{class:"select__newList"}).insertAfter(a);for(var r=a.next(".select__newList"),s=1;s<t;s++)$("<div>",{class:"select__newItem",html:$("<span>",{text:n.eq(s).text()})}).attr("data-value",n.eq(s).val()).appendTo(r);var o=r.find(".select__newItem");r.slideUp(0),a.on("click",(function(){$(this).hasClass("on")?($(this).removeClass("on"),r.slideUp(250)):($(this).addClass("on"),r.slideDown(250),o.on("click",(function(){var e=$(this).data("value");$("select").val(e).attr("selected","selected"),a.text($(this).find("span").text()),r.slideUp(250),a.removeClass("on")})))}))})),$jQuery.ready((function(e){var n=e("#modalWindowOfThanks"),t=e("form.mainForm");$document.bind("click touch",(function(t){e(t.target).closest(n).length||n.removeClass("open")})),n.find(".modalClose").bind("click touch",(function(e){return e.preventDefault(),e.stopPropagation(),n.removeClass("open"),!1}));var a=e("#mainForm [name=mainFormSelect]");a.on("select",(function(){a.removeClass("errorValue")}));var r=e("#mainForm [name=email]");r.on("input",(function(){r.removeClass("errorValue")}));var s=e("#mainForm [name=name]");s.on("input",(function(){s.removeClass("errorValue")}));var o=e("#mainForm [name=range]");o.on("input",(function(){o.removeClass("errorValue")})),t.submit((function(t){var l=window.location.origin,i=e(this);t.preventDefault(),t.stopPropagation(),n.addClass("open");var d=n.find(".responseText");d.text("Не все поля заполнены");var c=new FormData;jQuery.each(e("#uploadedFile")[0].files,(function(e,n){c.append("file_"+e,n)}));var u=a.val();u||a.addClass("errorValue");var m=r.val();m||r.addClass("errorValue");var v=s.val();v||s.addClass("errorValue");var p=o.val();if(p||o.addClass("errorValue"),u&&m&&v&&p)return c.append("mainFormSelect",u),c.append("name",v),c.append("email",m),c.append("range",p),e.ajax({type:"POST",url:l+"/../../mail/feedback.php",cache:!1,contentType:!1,processData:!1,data:c}).done((function(e){var t={};try{t=JSON.parse(e)}catch(e){console.warn(e)}d.html(t.message),t.success&&setTimeout((function(){return i.trigger("reset"),n.removeClass("modalCall_active"),!1}),250)})),document.querySelector("form").reset(),!1}))}));